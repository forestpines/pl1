<!DOCTYPE html>
<!-- source: https://developers.google.com/maps/documentation/javascript/examples/icon-complex -->

<html>
  <head>
    <title>Amanda's Story Map</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet"> 
    <style>
      /* sets the map height explicitly to define the size of the div
       * element that contains the map. */
        #map {
          height: 100%;
        }

        /* Optional: Makes the sample page fill the window. */
        html,
        body {
          height: 100%;
          margin: 0;
          padding: 0;
        }
        /* Embedded CSS styling for text legend and backgrounds */
        #title{
          position: absolute;
          top: 50px;
          left: 12%;
          z-index: 5;
          background-color: rgba(18, 3, 77, 0.514);
          border-radius: 20px;
          color: rgb(159, 216, 216);
          padding: 15px;
          text-align: left;
          font-family: "Oswald", "sans-serif";
          line-height: 30px;
          padding-left: 15px;
          max-width: 500px;
        }
        #subtext{
          line-height: 18px;
        }

        #legend{
          position: absolute;
          top: 370px;
          left: 12%;
          z-index: 5;
          background-color: rgba(18, 3, 77, 0.200);
          border-radius: 15px;
          color: rgb(159, 216, 216);
          text-align: left;
          font-family: "Oswald", "sans-serif";
         padding-top: 5px;
          padding-left: 5px;
          padding-right: 5px;
          padding-bottom: 5px;
          max-width: 350px;
          
        }
    </style>
    <script>
      let map;

      function initMap() {
      const map = new google.maps.Map(document.getElementById("map"), {
          mapTypeId: 'satellite',
          center: { lat: 43.225, lng: -79.226 },
          zoom: 14,
        });

        setMarkers(map);
      }

      // Data for the markers consisting of a name, a LatLng and a zIndex for the
      // order in which these markers should display on top of each other
      const beaches = [
        ["Happy Rolph's Animal Farm, hey teens like goats ok?", 43.22505, -79.20286, 2],
        ["Teen Angst HQ, definitely gazed into the abyss and felt the wind on my face", 43.24441, -79.20823, 1],
        ["Municipal Beach in my teens, renamed Sunset Beach now, score one for marketing", 43.22563, -79.22108, 3],
        ["Malcolmson Eco Park, favorite biking tree canopy for daydreaming about other places to live", 43.21890, -79.21704, 4],
        ["Holy Cross High School, prime angst manufacturing warehouse", 43.20193, -79.21744, 5],
        ["Waterfront Trail, the leg where you can almost smell the fries at Lakeside Park", 43.21509, -79.23869, 6],
        ["Found my brother and his friends lighting fireworks here in a way I wouldn't describe as responsible", 43.20601, -79.25931, 7],
        ["Lakeside Park, also a Rush song, I didn't care for Rush vocals then or now, but I respect Neil Peart's drumming", 43.20429, -79.26630, 8],
      ];

      function setMarkers(map) {
        // Adds markers to the map.
        // Marker sizes are expressed as a Size of X,Y where the origin of the image
        // (0,0) is located in the top left of the image.
        // Origins, anchor positions and coordinates of the marker increase in the X
        // direction to the right and in the Y direction down.

         // so so happy with this size customizable icon find.
        const image = {
          url: "https://img.icons8.com/doodle/40/000000/scream.png",
          // This marker is 48 pixels wide by 48 pixels high.
          size: new google.maps.Size(40, 40),
          // The origin for this image is (0, 0).
          origin: new google.maps.Point(0, 0),
          // The anchor for this image is the base of the Scream Mask at (0, 40).
          anchor: new google.maps.Point(0, 20),
        };
        // Shapes define the clickable region of the icon. The type defines an HTML
        // <area> element 'poly' which traces out a polygon as a series of X,Y points.
        // The final coordinate closes the poly by connecting to the first coordinate.
        const shape = {
          coords: [1, 1, 1, 30, 18, 30, 28, 1],
          type: "poly",
        };

        for (let i = 0; i < beaches.length; i++) {
          const beach = beaches[i];

          new google.maps.Marker({
            position: { lat: beach[1], lng: beach[2] },
            map,
            icon: image,
            shape: shape,
            title: beach[0],
            zIndex: beach[3],
          });
        }
      }
      // [END maps_icon_complex]
    </script>
  </head>
  <body>
    <div id="title">
      <h1>Smells Like a Teen Angst Collection </h1>
      <h2>Port Weller to Lakeside Park, St.Catharines </h2>
      <div id="subtext">
        <p>With a bus system that stopped at 5pm on Sundays, teen me walked and biked everywhere. On foot, I lived too far from a movie theatre and would often float in a raft at Municipal Beach on a "good smell day" instead. With Nine Inch Nails on my headphones (or heaven forbid, the Godzilla soundtrack), I would walk all the way to the entrance of the Welland Canal and pretend I was on PEI. As an adult living beside an expressway, I sometimes miss the rumble of ships quietly rattling the dishes at night.</p>
      </div>
    </div>
    <div id="legend">
      <p><img src="https://img.icons8.com/doodle/40/000000/scream.png" alt="Scream Face">Rage Against the Machine Listening Site</p>
    </div>
    <div id="map"></div>
    
    <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
    <!-- ***Replaced YOUR_API_KEY text with provided key in class for property src in next line *** -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDv3MGflguusDaLmV_-BUlmuoUI4EbM88w&callback=initMap&v=weekly" async>
    </script>
  </body>
</html>